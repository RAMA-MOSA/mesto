(()=>{"use strict";function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var t=function(){function t(e,n){var r=e.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._renderer=r,this._formSelector=document.querySelector(n)}var n,r;return n=t,(r=[{key:"rendererItems",value:function(e){var t=this;e.forEach((function(e){t._renderer(e)}))}},{key:"addItem",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"prepend";"append"===t?this._formSelector.append(e):this._formSelector.prepend(e)}}])&&e(n.prototype,r),t}();function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var r=function(){function e(t,n,r,o){var i=o.handleCardClick,a=o.handleCardDelete,u=o.addLike,s=o.deleteLike;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._data=t,this._cardSelector=n,this._id=r,this._handleCardClick=i,this._handleCardDelete=a,this._addLike=u,this._deleteLike=s}var t,r;return t=e,(r=[{key:"_getTemplate",value:function(){return document.querySelector(this._cardSelector).content.querySelector(".element").cloneNode(!0)}},{key:"deleteCard",value:function(){this._deleteElement(this._element)}},{key:"_deleteElement",value:function(e){e.remove(),e=null}},{key:"_likeElement",value:function(e){this._addLikeClass(),this._addLike(e)}},{key:"_dislike",value:function(e){this._removeLikeClass(),this._deleteLike(e)}},{key:"_addLikeClass",value:function(){this._likeButton.classList.add("element__like_on")}},{key:"_removeLikeClass",value:function(){this._likeButton.classList.remove("element__like_on")}},{key:"setLikeCount",value:function(e){this._likeCount.textContent=String(e.likes.length)}},{key:"_checkCard",value:function(){this._data.owner._id!==this._id&&this._deleteElement(this._deleteButton)}},{key:"_checkLike",value:function(){var e=this;this._data.likes.forEach((function(t){t._id===e._id&&e._addLikeClass()}))}},{key:"_setEventListeners",value:function(){var e=this;this._likeButton.addEventListener("click",(function(){e._likeButton.classList.contains("element__like_on")?e._dislike(e._data):e._likeElement(e._data)})),this._deleteButton.addEventListener("click",this._handleCardDelete),this._cardValue.addEventListener("click",(function(){e._handleCardClick(e._data)}))}},{key:"generateCard",value:function(){return this._element=this._getTemplate(),this._cardValue=this._element.querySelector(".element__photo"),this._cardCaption=this._element.querySelector(".element__caption"),this._likeButton=this._element.querySelector(".element__like"),this._likeCount=this._element.querySelector(".element__count"),this._deleteButton=this._element.querySelector(".element__trash"),this._element.setAttribute("id","".concat(this._data._id)),this._cardCaption.textContent=this._data.name,this._cardValue.src=this._data.link,this._cardValue.alt=this._data.name,this.setLikeCount(this._data),this._setEventListeners(),this._checkCard(),this._checkLike(),this._element}}])&&n(t.prototype,r),e}();function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._formElement=n,this._inputSelector=t.inputSelector,this._submitButtonSelector=t.submitButtonSelector,this._buttonElement=this._formElement.querySelector(this._submitButtonSelector),this._inactiveButtonClass=t.inactiveButtonClass,this._inputErrorClass=t.inputErrorClass,this._errorClass=t.errorClass,this._inputList=Array.from(this._formElement.querySelectorAll(this._inputSelector))}var t,n;return t=e,(n=[{key:"_showInputError",value:function(e,t){var n=this._formElement.querySelector("#".concat(e.id,"-error"));e.classList.add(this._inputErrorClass),n.textContent=t}},{key:"_hideInputError",value:function(e){var t=this._formElement.querySelector("#".concat(e.id,"-error"));e.classList.remove(this._inputErrorClass),t.textContent=""}},{key:"_checkInputValidity",value:function(e){if(e.validity.valid)this._hideInputError(e);else{var t=e.validationMessage;this._showInputError(e,t)}}},{key:"_hasNotValidInput",value:function(){return this._inputList.some((function(e){return!e.validity.valid}))}},{key:"_disabledButton",value:function(){this._buttonElement.classList.add(this._inactiveButtonClass),this._buttonElement.setAttribute("disabled",!0)}},{key:"_toggleButtonState",value:function(){this._hasNotValidInput()?this._disabledButton():(this._buttonElement.classList.remove(this._inactiveButtonClass),this._buttonElement.removeAttribute("disabled",!0))}},{key:"_setEventListeners",value:function(){var e=this;this._toggleButtonState(),this._inputList.forEach((function(t){t.addEventListener("input",(function(){e._checkInputValidity(t),e._toggleButtonState()}))}))}},{key:"enableValidation",value:function(){var e=this;this._formElement.addEventListener("submit",(function(t){t.preventDefault(),e._disabledButton()})),this._setEventListeners()}}])&&o(t.prototype,n),e}();function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popupSelector=t,this._popupElement=document.querySelector(this._popupSelector),this._handleEscClose=this._handleEscClose.bind(this),this._handleClickClose=this._handleClickClose.bind(this)}var t,n;return t=e,(n=[{key:"_handleClickClose",value:function(e){(e.target.classList.contains("popup__close")||e.target.classList.contains("popup"))&&this.close()}},{key:"_handleEscClose",value:function(e){"Escape"===e.key&&this.close()}},{key:"setEventListeners",value:function(){this._popupElement.addEventListener("click",this._handleClickClose)}},{key:"_removeEventListener",value:function(){this._popupElement.removeEventListener("click",this._handleClickClose),document.removeEventListener("keydown",this._handleEscClose)}},{key:"open",value:function(){this._popupElement.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popupElement.classList.remove("popup_opened"),this._removeEventListener()}}])&&a(t.prototype,n),e}();function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=h(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=h(r);if(o){var n=h(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return p(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).image=t._popupElement.querySelector(".popup__img"),t.caption=t._popupElement.querySelector(".popup__caption"),t}return t=a,(n=[{key:"open",value:function(e){this.image.src=e.link,this.image.alt=e.name,this.caption.textContent=e.name,c(h(a.prototype),"open",this).call(this)}}])&&l(t.prototype,n),a}(u);function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t,n){return(v="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=E(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e,t){return!t||"object"!==_(t)&&"function"!=typeof t?k(e):t}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=E(r);if(o){var n=E(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return b(this,e)});function a(e,t){var n,r=t.submit;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e))._popupForm=n._popupElement.querySelector(".popup__form"),n._submit=r,n._submitButton=n._popupForm.querySelector(".popup__save-button"),n._initialValueSubmitButton=n._submitButton.textContent,n._submitEvtHandler=n._submitEvtHandler.bind(k(n)),n}return t=a,(n=[{key:"renderLoading",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Cохранение...";this._submitButton.textContent=e?t:this._initialValueSubmitButton}},{key:"_submitEvtHandler",value:function(e){e.preventDefault(),this._submit(this._getInputValues())}},{key:"_getInputValues",value:function(){var e=Array.from(this._popupForm.querySelectorAll(".popup__item")),t={};return e.forEach((function(e){t[e.name]=e.value})),t}},{key:"setEventListeners",value:function(){this._popupForm.addEventListener("submit",this._submitEvtHandler),v(E(a.prototype),"setEventListeners",this).call(this)}},{key:"close",value:function(){this._popupForm.reset(),this._popupForm.removeEventListener("submit",this._submitEvtHandler),v(E(a.prototype),"close",this).call(this)}}])&&y(t.prototype,n),a}(u);function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function L(e,t,n){return(L="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=P(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e,t){return!t||"object"!==C(t)&&"function"!=typeof t?j(e):t}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=P(r);if(o){var n=P(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return O(this,e)});function a(e,t){var n,r=t.submit;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e))._popupElement=document.querySelector(n._popupSelector),n._popupForm=n._popupElement.querySelector(".popup__form"),n._submit=r,n._submitEvtHandler=n._submitEvtHandler.bind(j(n)),n}return t=a,(n=[{key:"_submitEvtHandler",value:function(e){e.preventDefault(),this._submit(this._data),this._popupForm.removeEventListener("submit",this._submitEvtHandler)}},{key:"setEventListeners",value:function(){this._popupForm.addEventListener("submit",this._submitEvtHandler),L(P(a.prototype),"setEventListeners",this).call(this)}},{key:"open",value:function(e){this._data=e,L(P(a.prototype),"open",this).call(this)}}])&&S(t.prototype,n),a}(u);function q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var I=function(){function e(t){var n=t.nameSelector,r=t.infoSelector,o=t.avatarSelector;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=document.querySelector(n),this._info=document.querySelector(r),this._avatar=document.querySelector(o)}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return{name:this._name.textContent,about:this._info.textContent}}},{key:"setUserAvatar",value:function(e){this._avatar.src=e.avatar}},{key:"setUserInfo",value:function(e){this._name.textContent=e.name,this._info.textContent=e.about,this.setUserAvatar(e),this._avatar.alt=e.name}}])&&q(t.prototype,n),e}();function B(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var T=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._headers=t.headers,this._url=t.baseUrl}var t,n;return t=e,(n=[{key:"getInitialData",value:function(){return Promise.all([this.getUserInfo(),this.getCards()])}},{key:"_handleResponse",value:function(e){return e.ok?e.json():Promise.reject("Ошибка:".concat(e.status))}},{key:"setUserAvatar",value:function(e){return fetch("".concat(this._url,"/users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e.avatar})}).then(this._handleResponse)}},{key:"deleteLike",value:function(e){return fetch("".concat(this._url,"/cards/likes/").concat(e._id),{method:"DELETE",headers:this._headers}).then(this._handleResponse)}},{key:"addLike",value:function(e){return fetch("".concat(this._url,"/cards/likes/").concat(e._id),{method:"PUT",headers:this._headers}).then(this._handleResponse)}},{key:"deleteCard",value:function(e){return fetch("".concat(this._url,"/cards/").concat(e._id),{method:"DELETE",headers:this._headers}).then(this._handleResponse)}},{key:"postCard",value:function(e){return fetch("".concat(this._url,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify({name:e.name,link:e.link})}).then(this._handleResponse)}},{key:"setUserInfo",value:function(e){return fetch("".concat(this._url,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e.name,about:e.about})}).then(this._handleResponse)}},{key:"getCards",value:function(){return fetch("".concat(this._url,"/cards"),{method:"GET",headers:this._headers}).then(this._handleResponse)}},{key:"getUserInfo",value:function(){return fetch("".concat(this._url,"/users/me"),{method:"GET",headers:this._headers}).then(this._handleResponse)}}])&&B(t.prototype,n),e}(),A=document.querySelector(".profile__edit"),D=document.querySelector(".profile__button"),x=document.querySelector(".profile__img-avatar"),U=document.querySelector(".popup-profile"),V=Array.from(document.querySelectorAll(".popup__form")),H=U.querySelector("#name-input"),F=U.querySelector("#description-input"),N={formSelector:".popup__form",inputSelector:".popup__item",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_disabled",inputErrorClass:"popup__item_error-line",errorClass:"popup__error_visible"};function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var G=null,M=null,z=new I({nameSelector:".profile__name",infoSelector:".profile__description",avatarSelector:".profile__avatar"}),$=new t({renderer:function(e){var t=X(e),n=t.generateCard();t.setLikeCount(e),$.addItem(n,"append")}},".elements__box"),K=new d(".popup-image"),Q=new T({baseUrl:"https://mesto.nomoreparties.co/v1/cohort-17",headers:{authorization:"d558607e-48f8-4a90-b7e5-75f1fe753f5b","Content-Type":"application/json"}});Q.getInitialData().then((function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}}(t,n)||function(e,t){if(e){if("string"==typeof e)return J(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?J(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1];G=o._id,z.setUserInfo(o),$.rendererItems(i)})).catch((function(e){console.log(e)}));var W=new R(".popup-delete",{submit:function(e){Q.deleteCard(e).then((function(){M.deleteCard()})).then((function(){M=null,W.close()})).catch((function(e){console.log(e)}))}}),X=function(e){var t=new r(e,"#element",G,{handleCardClick:function(e){K.open(e),K.setEventListeners()},handleCardDelete:function(){M=t,W.open(e),W.setEventListeners()},addLike:function(e){Q.addLike(e).then((function(e){t.setLikeCount(e)})).catch((function(e){console.log(e)}))},deleteLike:function(e){Q.deleteLike(e).then((function(e){t.setLikeCount(e)})).catch((function(e){console.log(e)}))}});return t},Y=new g(".popup-newcard",{submit:function(e){Y.renderLoading(!0),Q.postCard(e).then((function(e){var t=X(e).generateCard();$.addItem(t,"prepend"),Y.close()})).catch((function(e){console.log(e)})).finally((function(){Y.renderLoading(!1)}))}}),Z=new g(".popup-profile",{submit:function(e){Z.renderLoading(!0),Q.setUserInfo(e).then((function(e){z.setUserInfo(e),Z.close()})).catch((function(e){console.log(e)})).finally((function(){Z.renderLoading(!1)}))}}),ee=new g(".popup-avatar",{submit:function(e){ee.renderLoading(!0),Q.setUserAvatar(e).then((function(e){z.setUserAvatar(e),ee.close()})).catch((function(e){console.log(e)})).finally((function(){ee.renderLoading(!1)}))}});D.addEventListener("click",(function(){Y.open(),Y.setEventListeners()})),A.addEventListener("click",(function(){var e=z.getUserInfo();H.value=e.name,F.value=e.about,Z.open(),Z.setEventListeners()})),x.addEventListener("click",(function(){ee.open(),ee.setEventListeners()})),V.forEach((function(e){!function(e){new i(N,e).enableValidation()}(e)}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRGVsZXRlRm9ybS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvQXBpLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3V0aWxzL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9wYWdlcy9pbmRleC5qcyJdLCJuYW1lcyI6WyJTZWN0aW9uIiwiZm9ybVNlbGVjdG9yIiwicmVuZGVyZXIiLCJ0aGlzIiwiX3JlbmRlcmVyIiwiX2Zvcm1TZWxlY3RvciIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImNhcmREYXRhIiwiZm9yRWFjaCIsImNhcmQiLCJlbGVtZW50IiwicG9zaXRpb24iLCJhcHBlbmQiLCJwcmVwZW5kIiwiQ2FyZCIsImRhdGEiLCJjYXJkU2VsZWN0b3IiLCJvd25lcklkIiwiaGFuZGxlQ2FyZENsaWNrIiwiaGFuZGxlQ2FyZERlbGV0ZSIsImFkZExpa2UiLCJkZWxldGVMaWtlIiwiX2RhdGEiLCJfY2FyZFNlbGVjdG9yIiwiX2lkIiwiX2hhbmRsZUNhcmRDbGljayIsIl9oYW5kbGVDYXJkRGVsZXRlIiwiX2FkZExpa2UiLCJfZGVsZXRlTGlrZSIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJfZGVsZXRlRWxlbWVudCIsIl9lbGVtZW50IiwicmVtb3ZlIiwiX2FkZExpa2VDbGFzcyIsIl9yZW1vdmVMaWtlQ2xhc3MiLCJfbGlrZUJ1dHRvbiIsImNsYXNzTGlzdCIsImFkZCIsIl9saWtlQ291bnQiLCJ0ZXh0Q29udGVudCIsIlN0cmluZyIsImxpa2VzIiwibGVuZ3RoIiwib3duZXIiLCJfZGVsZXRlQnV0dG9uIiwibGlrZU93bmVyIiwiYWRkRXZlbnRMaXN0ZW5lciIsImNvbnRhaW5zIiwiX2Rpc2xpa2UiLCJfbGlrZUVsZW1lbnQiLCJfY2FyZFZhbHVlIiwiX2dldFRlbXBsYXRlIiwiX2NhcmRDYXB0aW9uIiwic2V0QXR0cmlidXRlIiwibmFtZSIsInNyYyIsImxpbmsiLCJhbHQiLCJzZXRMaWtlQ291bnQiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJfY2hlY2tDYXJkIiwiX2NoZWNrTGlrZSIsIkZvcm1WYWxpZGF0b3IiLCJjb25maWciLCJmb3JtSXRlbSIsIl9mb3JtRWxlbWVudCIsIl9pbnB1dFNlbGVjdG9yIiwiaW5wdXRTZWxlY3RvciIsIl9zdWJtaXRCdXR0b25TZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiX2J1dHRvbkVsZW1lbnQiLCJfaW5hY3RpdmVCdXR0b25DbGFzcyIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJfaW5wdXRFcnJvckNsYXNzIiwiaW5wdXRFcnJvckNsYXNzIiwiX2Vycm9yQ2xhc3MiLCJlcnJvckNsYXNzIiwiX2lucHV0TGlzdCIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJpbnB1dEVsZW1lbnQiLCJlcnJvck1lc3NhZ2UiLCJlcnJvckVsZW1lbnQiLCJpZCIsInZhbGlkaXR5IiwidmFsaWQiLCJfaGlkZUlucHV0RXJyb3IiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsIl9zaG93SW5wdXRFcnJvciIsInNvbWUiLCJfaGFzTm90VmFsaWRJbnB1dCIsIl9kaXNhYmxlZEJ1dHRvbiIsInJlbW92ZUF0dHJpYnV0ZSIsIl90b2dnbGVCdXR0b25TdGF0ZSIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJldnQiLCJwcmV2ZW50RGVmYXVsdCIsIlBvcHVwIiwicG9wdXBTZWxlY3RvciIsIl9wb3B1cFNlbGVjdG9yIiwiX3BvcHVwRWxlbWVudCIsIl9oYW5kbGVFc2NDbG9zZSIsImJpbmQiLCJfaGFuZGxlQ2xpY2tDbG9zZSIsInRhcmdldCIsImNsb3NlIiwia2V5IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIl9yZW1vdmVFdmVudExpc3RlbmVyIiwiUG9wdXBXaXRoSW1hZ2UiLCJpbWFnZSIsImNhcHRpb24iLCJQb3B1cFdpdGhGb3JtIiwic3VibWl0IiwiX3BvcHVwRm9ybSIsIl9zdWJtaXQiLCJfc3VibWl0QnV0dG9uIiwiX2luaXRpYWxWYWx1ZVN1Ym1pdEJ1dHRvbiIsIl9zdWJtaXRFdnRIYW5kbGVyIiwiaXNMb2FkaW5nIiwibWVzc2FnZSIsIl9nZXRJbnB1dFZhbHVlcyIsImlucHV0TGlzdCIsImlucHV0IiwidmFsdWUiLCJyZXNldCIsIlBvcHVwV2l0aERlbGV0ZUZvcm0iLCJVc2VySW5mbyIsIm5hbWVTZWxlY3RvciIsImluZm9TZWxlY3RvciIsImF2YXRhclNlbGVjdG9yIiwiX25hbWUiLCJfaW5mbyIsIl9hdmF0YXIiLCJhYm91dCIsImF2YXRhciIsInNldFVzZXJBdmF0YXIiLCJBcGkiLCJvcHRpb25zIiwiX2hlYWRlcnMiLCJoZWFkZXJzIiwiX3VybCIsImJhc2VVcmwiLCJQcm9taXNlIiwiYWxsIiwiZ2V0VXNlckluZm8iLCJnZXRDYXJkcyIsInJlcyIsIm9rIiwianNvbiIsInJlamVjdCIsInN0YXR1cyIsImZldGNoIiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJ0aGVuIiwiX2hhbmRsZVJlc3BvbnNlIiwicHJvZmlsZUVkaXQiLCJwcm9maWxlQnV0dG9uIiwiYXZhdGFyQnV0dG9uIiwicG9wdXBQcm9maWxlIiwiZm9ybUxpc3QiLCJwb3B1cEl0ZW1OYW1lIiwicG9wdXBJdGVtRGVzY3JpcHRpb24iLCJ0ZW1wQ2FyZCIsInVzZXJJbmZvIiwiY2FyZHNMaXN0IiwiY3JlYXRlTmV3Q2FyZCIsImNhcmRFbGVtZW50IiwiZ2VuZXJhdGVDYXJkIiwiYWRkSXRlbSIsInBob3RvUG9wdXAiLCJhcGkiLCJhdXRob3JpemF0aW9uIiwiZ2V0SW5pdGlhbERhdGEiLCJ1c2VyRGF0YSIsInNldFVzZXJJbmZvIiwicmVuZGVyZXJJdGVtcyIsImVyciIsImNvbnNvbGUiLCJsb2ciLCJwb3B1cFdpdGhEZWxldGVGb3JtIiwiZGVsZXRlQ2FyZCIsIm9wZW4iLCJzZXRFdmVudExpc3RlbmVycyIsInBvcHVwV2l0aEFkZEZvcm0iLCJyZW5kZXJMb2FkaW5nIiwicG9zdENhcmQiLCJwb3B1cFdpdGhQcm9maWxlRm9ybSIsInBvcHVwV2l0aEF2YXRhckZvcm0iLCJmb3JtIiwiZW5hYmxlVmFsaWRhdGlvbiIsInZhbGlkYXRvciJdLCJtYXBwaW5ncyI6InlMQUFPLElBQU1BLEVBQWIsV0FDSSxhQUF3QkMsR0FBYSxJQUF4QkMsRUFBd0IsRUFBeEJBLFUsNEZBQXdCLFNBQ2pDQyxLQUFLQyxVQUFZRixFQUNqQkMsS0FBS0UsY0FBZ0JDLFNBQVNDLGNBQWNOLEcsUUFIcEQsTyxFQUFBLEcsRUFBQSxxQ0FNa0JPLEdBQVMsV0FDbkJBLEVBQVNDLFNBQVEsU0FBQUMsR0FDYixFQUFLTixVQUFVTSxRQVIzQiw4QkFZWUMsR0FBOEIsSUFBckJDLEVBQXFCLHVEQUFWLFVBQ1AsV0FBYkEsRUFDQVQsS0FBS0UsY0FBY1EsT0FBT0YsR0FFMUJSLEtBQUtFLGNBQWNTLFFBQVFILFEsaUJBaEJ2QyxLLHNLQ0FPLElBQU1JLEVBQWIsV0FDSSxXQUFZQyxFQUFNQyxFQUFjQyxFQUFoQyxHQUFrRyxJQUF4REMsRUFBd0QsRUFBeERBLGdCQUFpQkMsRUFBdUMsRUFBdkNBLGlCQUFrQkMsRUFBcUIsRUFBckJBLFFBQVNDLEVBQVksRUFBWkEsWSw0RkFBWSxTQUM5Rm5CLEtBQUtvQixNQUFRUCxFQUNi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dEN3RCxFQUFxQkwsT0FDckJLLEVBQXFCSix1QkFHekJ6QixFQUFhcEgsaUJBQWlCLFNBQVMsV0FDbkNrSixHQUFvQk4sT0FDcEJNLEdBQW9CTCx1QkFReEJ2QixFQUFTN0osU0FBUSxTQUFBMEwsSUFMQyxTQUFDQSxHQUNDLElBQUluSSxFQUFjQyxFQUFRa0ksR0FDbENDLG1CQUlSQyxDQUFVRixPIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgU2VjdGlvbntcclxuICAgIGNvbnN0cnVjdG9yKHtyZW5kZXJlcn0sIGZvcm1TZWxlY3Rvcil7XHJcbiAgICAgICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcclxuICAgICAgICB0aGlzLl9mb3JtU2VsZWN0b3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGZvcm1TZWxlY3Rvcik7XHJcbiAgICB9O1xyXG5cclxuICAgIHJlbmRlcmVySXRlbXMoY2FyZERhdGEpe1xyXG4gICAgICAgIGNhcmREYXRhLmZvckVhY2goY2FyZCA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlcmVyKGNhcmQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIFxyXG4gICAgYWRkSXRlbShlbGVtZW50LCBwb3NpdGlvbiA9ICdwcmVwZW5kJyl7XHJcbiAgICAgICAgaWYgKHBvc2l0aW9uID09PSAnYXBwZW5kJyl7XHJcbiAgICAgICAgICAgIHRoaXMuX2Zvcm1TZWxlY3Rvci5hcHBlbmQoZWxlbWVudCk7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHRoaXMuX2Zvcm1TZWxlY3Rvci5wcmVwZW5kKGVsZW1lbnQpO1xyXG4gICAgICAgIH07XHJcbiAgICB9O1xyXG59OyIsImV4cG9ydCBjbGFzcyBDYXJke1xyXG4gICAgY29uc3RydWN0b3IoZGF0YSwgY2FyZFNlbGVjdG9yLCBvd25lcklkLCB7aGFuZGxlQ2FyZENsaWNrLCBoYW5kbGVDYXJkRGVsZXRlLCBhZGRMaWtlLCBkZWxldGVMaWtlfSl7XHJcbiAgICAgICAgdGhpcy5fZGF0YSA9IGRhdGE7XHJcbiAgICAgICAgdGhpcy5fY2FyZFNlbGVjdG9yID0gY2FyZFNlbGVjdG9yO1xyXG4gICAgICAgIHRoaXMuX2lkID0gb3duZXJJZDsgXHJcbiAgICAgICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrID0gaGFuZGxlQ2FyZENsaWNrO1xyXG4gICAgICAgIHRoaXMuX2hhbmRsZUNhcmREZWxldGUgPSBoYW5kbGVDYXJkRGVsZXRlO1xyXG4gICAgICAgIHRoaXMuX2FkZExpa2UgPSBhZGRMaWtlO1xyXG4gICAgICAgIHRoaXMuX2RlbGV0ZUxpa2UgPSBkZWxldGVMaWtlO1xyXG4gICAgfTtcclxuXHJcbiAgICBfZ2V0VGVtcGxhdGUoKXtcclxuICAgICAgICBjb25zdCBjYXJkRWxlbWVudCA9IGRvY3VtZW50XHJcbiAgICAgICAgICAgIC5xdWVyeVNlbGVjdG9yKHRoaXMuX2NhcmRTZWxlY3RvcilcclxuICAgICAgICAgICAgLmNvbnRlbnRcclxuICAgICAgICAgICAgLnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50JylcclxuICAgICAgICAgICAgLmNsb25lTm9kZSh0cnVlKTtcclxuICBcclxuICAgICAgICByZXR1cm4gY2FyZEVsZW1lbnQ7XHJcbiAgICB9O1xyXG5cclxuICAgIGRlbGV0ZUNhcmQoKXtcclxuICAgICAgICB0aGlzLl9kZWxldGVFbGVtZW50KHRoaXMuX2VsZW1lbnQpO1xyXG4gICAgfTtcclxuXHJcbiAgICBfZGVsZXRlRWxlbWVudChlbGVtZW50KXtcclxuICAgICAgICBlbGVtZW50LnJlbW92ZSgpO1xyXG4gICAgICAgIGVsZW1lbnQgPSBudWxsO1xyXG4gICAgfTtcclxuXHJcbiAgICBfbGlrZUVsZW1lbnQoZGF0YSl7XHJcbiAgICAgICAgdGhpcy5fYWRkTGlrZUNsYXNzKCk7XHJcbiAgICAgICAgdGhpcy5fYWRkTGlrZShkYXRhKTtcclxuICAgIH07XHJcblxyXG4gICAgX2Rpc2xpa2UoZGF0YSl7XHJcbiAgICAgICAgdGhpcy5fcmVtb3ZlTGlrZUNsYXNzKCk7XHJcbiAgICAgICAgdGhpcy5fZGVsZXRlTGlrZShkYXRhKTtcclxuICAgIH07XHJcblxyXG4gICAgX2FkZExpa2VDbGFzcygpe1xyXG4gICAgICAgIHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LmFkZCgnZWxlbWVudF9fbGlrZV9vbicpO1xyXG4gICAgfTtcclxuXHJcbiAgICBfcmVtb3ZlTGlrZUNsYXNzKCl7XHJcbiAgICAgICAgdGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdlbGVtZW50X19saWtlX29uJyk7XHJcbiAgICB9O1xyXG5cclxuICAgIHNldExpa2VDb3VudChkYXRhKXtcclxuICAgICAgICB0aGlzLl9saWtlQ291bnQudGV4dENvbnRlbnQgPSBTdHJpbmcoZGF0YS5saWtlcy5sZW5ndGgpO1xyXG4gICAgfTtcclxuXHJcbiAgICBfY2hlY2tDYXJkKCl7XHJcbiAgICAgICAgaWYodGhpcy5fZGF0YS5vd25lci5faWQgIT09IHRoaXMuX2lkKXtcclxuICAgICAgICAgICAgdGhpcy5fZGVsZXRlRWxlbWVudCh0aGlzLl9kZWxldGVCdXR0b24pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgX2NoZWNrTGlrZSgpe1xyXG4gICAgICAgIHRoaXMuX2RhdGEubGlrZXMuZm9yRWFjaCgobGlrZU93bmVyKSA9PiB7XHJcbiAgICAgICAgICAgIGlmKGxpa2VPd25lci5faWQgPT09IHRoaXMuX2lkKXtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2FkZExpa2VDbGFzcygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH07XHJcblxyXG5cclxuICAgIF9zZXRFdmVudExpc3RlbmVycygpe1xyXG4gICAgICAgIHRoaXMuX2xpa2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7IFxyXG4gICAgICAgICAgICBpZih0aGlzLl9saWtlQnV0dG9uLmNsYXNzTGlzdC5jb250YWlucygnZWxlbWVudF9fbGlrZV9vbicpKXtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2Rpc2xpa2UodGhpcy5fZGF0YSk7XHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fbGlrZUVsZW1lbnQodGhpcy5fZGF0YSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLl9kZWxldGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVDYXJkRGVsZXRlKTtcclxuICAgICAgICB0aGlzLl9jYXJkVmFsdWUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayh0aGlzLl9kYXRhKTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBcclxuICAgIGdlbmVyYXRlQ2FyZCgpe1xyXG4gICAgICAgIHRoaXMuX2VsZW1lbnQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xyXG4gICAgICAgIHRoaXMuX2NhcmRWYWx1ZSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX3Bob3RvJyk7XHJcbiAgICAgICAgdGhpcy5fY2FyZENhcHRpb24gPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19jYXB0aW9uJyk7XHJcbiAgICAgICAgdGhpcy5fbGlrZUJ1dHRvbiA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX2xpa2UnKTtcclxuICAgICAgICB0aGlzLl9saWtlQ291bnQgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19jb3VudCcpO1xyXG4gICAgICAgIHRoaXMuX2RlbGV0ZUJ1dHRvbiA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX3RyYXNoJyk7XHJcbiAgICAgICAgdGhpcy5fZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2lkJywgYCR7dGhpcy5fZGF0YS5faWR9YCk7XHJcbiAgICAgICAgdGhpcy5fY2FyZENhcHRpb24udGV4dENvbnRlbnQgPSB0aGlzLl9kYXRhLm5hbWU7XHJcbiAgICAgICAgdGhpcy5fY2FyZFZhbHVlLnNyYyA9IHRoaXMuX2RhdGEubGluaztcclxuICAgICAgICB0aGlzLl9jYXJkVmFsdWUuYWx0ID0gdGhpcy5fZGF0YS5uYW1lO1xyXG4gICAgICAgIHRoaXMuc2V0TGlrZUNvdW50KHRoaXMuX2RhdGEpXHJcbiAgICAgICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgICAgICB0aGlzLl9jaGVja0NhcmQoKTtcclxuICAgICAgICB0aGlzLl9jaGVja0xpa2UoKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VsZW1lbnQ7XHJcbiAgICB9O1xyXG59OyIsImV4cG9ydCBjbGFzcyBGb3JtVmFsaWRhdG9ye1xyXG4gICAgY29uc3RydWN0b3IoY29uZmlnLCBmb3JtSXRlbSl7XHJcbiAgICAgICAgdGhpcy5fZm9ybUVsZW1lbnQgPSBmb3JtSXRlbTtcclxuICAgICAgICB0aGlzLl9pbnB1dFNlbGVjdG9yID0gY29uZmlnLmlucHV0U2VsZWN0b3I7XHJcbiAgICAgICAgdGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IgPSBjb25maWcuc3VibWl0QnV0dG9uU2VsZWN0b3I7XHJcbiAgICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IpO1xyXG4gICAgICAgIHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MgPSBjb25maWcuaW5hY3RpdmVCdXR0b25DbGFzcztcclxuICAgICAgICB0aGlzLl9pbnB1dEVycm9yQ2xhc3MgPSBjb25maWcuaW5wdXRFcnJvckNsYXNzO1xyXG4gICAgICAgIHRoaXMuX2Vycm9yQ2xhc3MgPSBjb25maWcuZXJyb3JDbGFzcztcclxuICAgICAgICB0aGlzLl9pbnB1dExpc3QgPSBBcnJheS5mcm9tKHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5faW5wdXRTZWxlY3RvcikpO1xyXG4gICAgfTtcclxuXHJcbiAgICBfc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50LCBlcnJvck1lc3NhZ2Upe1xyXG4gICAgICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYCMke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgKTtcclxuICAgICAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xyXG4gICAgICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IGVycm9yTWVzc2FnZTtcclxuICAgIH07XHJcblxyXG4gICAgX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCl7XHJcbiAgICAgICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihgIyR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmApO1xyXG4gICAgICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XHJcbiAgICAgICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gJyc7XHJcbiAgICB9O1xyXG5cclxuICAgIF9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KXtcclxuICAgICAgICBpZiAoIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCkge1xyXG4gICAgICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBpbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2U7XHJcbiAgICAgICAgICAgIHRoaXMuX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCwgZXJyb3JNZXNzYWdlKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgX2hhc05vdFZhbGlkSW5wdXQoKXtcclxuICAgICAgICByZXR1cm4gdGhpcy5faW5wdXRMaXN0LnNvbWUoKGlucHV0RWxlbWVudCkgPT4gIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCk7XHJcbiAgICB9O1xyXG5cclxuICAgIF9kaXNhYmxlZEJ1dHRvbigpe1xyXG4gICAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICAgICAgICB0aGlzLl9idXR0b25FbGVtZW50LnNldEF0dHJpYnV0ZSgnZGlzYWJsZWQnLCB0cnVlKTtcclxuICAgIH07XHJcblxyXG4gICAgX3RvZ2dsZUJ1dHRvblN0YXRlKCl7XHJcbiAgICAgICAgaWYgKHRoaXMuX2hhc05vdFZhbGlkSW5wdXQoKSl7XHJcbiAgICAgICAgICAgIHRoaXMuX2Rpc2FibGVkQnV0dG9uKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgICAgICAgICB0aGlzLl9idXR0b25FbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgnZGlzYWJsZWQnLCB0cnVlKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIF9zZXRFdmVudExpc3RlbmVycygpe1xyXG4gICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcbiAgICAgICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICAgICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIFxyXG4gICAgZW5hYmxlVmFsaWRhdGlvbigpe1xyXG4gICAgICAgICAgICB0aGlzLl9mb3JtRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZXZ0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2Rpc2FibGVkQnV0dG9uKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgfTtcclxufTsiLCJleHBvcnQgY2xhc3MgUG9wdXAge1xyXG4gICAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcil7XHJcbiAgICAgICAgdGhpcy5fcG9wdXBTZWxlY3RvciA9IHBvcHVwU2VsZWN0b3I7XHJcbiAgICAgICAgdGhpcy5fcG9wdXBFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl9wb3B1cFNlbGVjdG9yKTtcclxuICAgICAgICB0aGlzLl9oYW5kbGVFc2NDbG9zZSA9IHRoaXMuX2hhbmRsZUVzY0Nsb3NlLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5faGFuZGxlQ2xpY2tDbG9zZSA9IHRoaXMuX2hhbmRsZUNsaWNrQ2xvc2UuYmluZCh0aGlzKTtcclxuICAgIH07XHJcblxyXG4gICAgX2hhbmRsZUNsaWNrQ2xvc2UoZXZ0KXtcclxuICAgICAgICBpZiAoZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3BvcHVwX19jbG9zZScpIHx8IGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdwb3B1cCcpKXtcclxuICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgX2hhbmRsZUVzY0Nsb3NlKGV2dCl7XHJcbiAgICAgICAgaWYoZXZ0LmtleSA9PT0gJ0VzY2FwZScpe1xyXG4gICAgICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgICAgfTtcclxuICAgIH07XHJcblxyXG4gICAgc2V0RXZlbnRMaXN0ZW5lcnMoKXtcclxuICAgICAgICB0aGlzLl9wb3B1cEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuX2hhbmRsZUNsaWNrQ2xvc2UpO1xyXG4gICAgfTtcclxuXHJcbiAgICBfcmVtb3ZlRXZlbnRMaXN0ZW5lcigpe1xyXG4gICAgICAgIHRoaXMuX3BvcHVwRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZUNsaWNrQ2xvc2UpO1xyXG4gICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XHJcbiAgICB9O1xyXG5cclxuICAgIG9wZW4oKXtcclxuICAgICAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgncG9wdXBfb3BlbmVkJyk7XHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICAgIH07XHJcbiAgICBcclxuICAgIGNsb3NlKCl7XHJcbiAgICAgICAgdGhpcy5fcG9wdXBFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ3BvcHVwX29wZW5lZCcpO1xyXG4gICAgICAgIHRoaXMuX3JlbW92ZUV2ZW50TGlzdGVuZXIoKTtcclxuICAgIH07XHJcbn07IiwiaW1wb3J0IHtQb3B1cH0gZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuZXhwb3J0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKXtcclxuICAgICAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgICAgICB0aGlzLmltYWdlID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faW1nJyk7XHJcbiAgICAgICAgdGhpcy5jYXB0aW9uID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fY2FwdGlvbicpO1xyXG4gICAgfTtcclxuICAgIFxyXG4gICAgb3BlbihkYXRhKXtcclxuICAgICAgICB0aGlzLmltYWdlLnNyYyA9IGRhdGEubGluaztcclxuICAgICAgICB0aGlzLmltYWdlLmFsdCA9IGRhdGEubmFtZTtcclxuICAgICAgICB0aGlzLmNhcHRpb24udGV4dENvbnRlbnQgPSBkYXRhLm5hbWU7XHJcbiAgICAgICAgc3VwZXIub3BlbigpO1xyXG4gICAgfTtcclxufTsiLCJpbXBvcnQge1BvcHVwfSBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5leHBvcnQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwe1xyXG4gICAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvciwge3N1Ym1pdH0pe1xyXG4gICAgICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgICAgIHRoaXMuX3BvcHVwRm9ybSA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Zvcm0nKTtcclxuICAgICAgICB0aGlzLl9zdWJtaXQgPSBzdWJtaXQ7XHJcbiAgICAgICAgdGhpcy5fc3VibWl0QnV0dG9uID10aGlzLl9wb3B1cEZvcm0ucXVlcnlTZWxlY3RvcignLnBvcHVwX19zYXZlLWJ1dHRvbicpO1xyXG4gICAgICAgIHRoaXMuX2luaXRpYWxWYWx1ZVN1Ym1pdEJ1dHRvbiA9IHRoaXMuX3N1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudDtcclxuICAgICAgICB0aGlzLl9zdWJtaXRFdnRIYW5kbGVyID0gdGhpcy5fc3VibWl0RXZ0SGFuZGxlci5iaW5kKHRoaXMpO1xyXG4gICAgfTtcclxuXHJcbiAgICByZW5kZXJMb2FkaW5nKGlzTG9hZGluZywgbWVzc2FnZSA9ICdD0L7RhdGA0LDQvdC10L3QuNC1Li4uJyl7XHJcbiAgICAgICAgaWYoaXNMb2FkaW5nKXtcclxuICAgICAgICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gbWVzc2FnZTtcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gdGhpcy5faW5pdGlhbFZhbHVlU3VibWl0QnV0dG9uO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgX3N1Ym1pdEV2dEhhbmRsZXIoZXZ0KXtcclxuICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICB0aGlzLl9zdWJtaXQodGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSk7XHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICBfZ2V0SW5wdXRWYWx1ZXMoKXtcclxuICAgICAgICBjb25zdCBpbnB1dExpc3QgPSBBcnJheS5mcm9tKHRoaXMuX3BvcHVwRm9ybS5xdWVyeVNlbGVjdG9yQWxsKCcucG9wdXBfX2l0ZW0nKSk7XHJcbiAgICAgICAgY29uc3QgZGF0YSA9IHt9O1xyXG4gICAgICAgIGlucHV0TGlzdC5mb3JFYWNoKGlucHV0ID0+IHtcclxuICAgICAgICAgICAgZGF0YVtpbnB1dC5uYW1lXSA9IGlucHV0LnZhbHVlO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgcmV0dXJuIGRhdGE7XHJcbiAgICB9O1xyXG5cclxuICAgIHNldEV2ZW50TGlzdGVuZXJzKCl7XHJcbiAgICAgICAgdGhpcy5fcG9wdXBGb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIHRoaXMuX3N1Ym1pdEV2dEhhbmRsZXIpO1xyXG4gICAgICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB9O1xyXG5cclxuICAgIGNsb3NlKCl7XHJcbiAgICAgICAgdGhpcy5fcG9wdXBGb3JtLnJlc2V0KCk7XHJcbiAgICAgICAgdGhpcy5fcG9wdXBGb3JtLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIHRoaXMuX3N1Ym1pdEV2dEhhbmRsZXIpO1xyXG4gICAgICAgIHN1cGVyLmNsb3NlKCk7XHJcbiAgICB9O1xyXG59OyIsImltcG9ydCB7UG9wdXB9IGZyb20gJy4vUG9wdXAuanMnO1xyXG5cclxuZXhwb3J0IGNsYXNzIFBvcHVwV2l0aERlbGV0ZUZvcm0gZXh0ZW5kcyBQb3B1cHtcclxuICAgIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IsIHtzdWJtaXR9KXtcclxuICAgICAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgICAgICB0aGlzLl9wb3B1cEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuX3BvcHVwU2VsZWN0b3IpO1xyXG4gICAgICAgIHRoaXMuX3BvcHVwRm9ybSA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Zvcm0nKTtcclxuICAgICAgICB0aGlzLl9zdWJtaXQgPSBzdWJtaXQ7XHJcbiAgICAgICAgdGhpcy5fc3VibWl0RXZ0SGFuZGxlciA9IHRoaXMuX3N1Ym1pdEV2dEhhbmRsZXIuYmluZCh0aGlzKTtcclxuICAgIH07XHJcblxyXG4gICAgX3N1Ym1pdEV2dEhhbmRsZXIoZXZ0KXtcclxuICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICB0aGlzLl9zdWJtaXQodGhpcy5fZGF0YSk7XHJcbiAgICAgICAgdGhpcy5fcG9wdXBGb3JtLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIHRoaXMuX3N1Ym1pdEV2dEhhbmRsZXIpO1xyXG4gICAgfTtcclxuXHJcbiAgICBzZXRFdmVudExpc3RlbmVycygpe1xyXG4gICAgICAgIHRoaXMuX3BvcHVwRm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCB0aGlzLl9zdWJtaXRFdnRIYW5kbGVyKTtcclxuICAgICAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgfTtcclxuXHJcbiAgICBvcGVuKGRhdGEpe1xyXG4gICAgICAgIHRoaXMuX2RhdGEgPSBkYXRhO1xyXG4gICAgICAgIHN1cGVyLm9wZW4oKTtcclxuICAgIH07XHJcbn07IiwiZXhwb3J0IGNsYXNzIFVzZXJJbmZve1xyXG4gICAgY29uc3RydWN0b3Ioe25hbWVTZWxlY3RvciwgaW5mb1NlbGVjdG9yLCBhdmF0YXJTZWxlY3Rvcn0pe1xyXG4gICAgICAgIHRoaXMuX25hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG5hbWVTZWxlY3Rvcik7XHJcbiAgICAgICAgdGhpcy5faW5mbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoaW5mb1NlbGVjdG9yKTtcclxuICAgICAgICB0aGlzLl9hdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGF2YXRhclNlbGVjdG9yKTtcclxuICAgIH07XHJcblxyXG4gICAgZ2V0VXNlckluZm8oKXtcclxuICAgICAgICBjb25zdCBkYXRhID0ge1xyXG4gICAgICAgICAgICBuYW1lOiB0aGlzLl9uYW1lLnRleHRDb250ZW50LCBcclxuICAgICAgICAgICAgYWJvdXQ6dGhpcy5faW5mby50ZXh0Q29udGVudFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIGRhdGE7XHJcbiAgICB9O1xyXG5cclxuICAgIHNldFVzZXJBdmF0YXIoZGF0YSl7XHJcbiAgICAgICAgdGhpcy5fYXZhdGFyLnNyYyA9IGRhdGEuYXZhdGFyO1xyXG4gICAgfTtcclxuICAgIFxyXG4gICAgc2V0VXNlckluZm8oZGF0YSl7XHJcbiAgICAgICAgdGhpcy5fbmFtZS50ZXh0Q29udGVudCA9IGRhdGEubmFtZTtcclxuICAgICAgICB0aGlzLl9pbmZvLnRleHRDb250ZW50ID0gZGF0YS5hYm91dDtcclxuICAgICAgICB0aGlzLnNldFVzZXJBdmF0YXIoZGF0YSk7XHJcbiAgICAgICAgdGhpcy5fYXZhdGFyLmFsdCA9IGRhdGEubmFtZTtcclxuICAgIH07XHJcbn07IiwiZXhwb3J0IGNsYXNzIEFwaSB7XHJcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XHJcbiAgICAgIHRoaXMuX2hlYWRlcnMgPSBvcHRpb25zLmhlYWRlcnM7XHJcbiAgICAgIHRoaXMuX3VybCA9IG9wdGlvbnMuYmFzZVVybDtcclxuICAgIH07XHJcbiAgXHJcbiAgICBnZXRJbml0aWFsRGF0YSgpIHtcclxuICAgICAgcmV0dXJuIFByb21pc2UuYWxsKFt0aGlzLmdldFVzZXJJbmZvKCksIHRoaXMuZ2V0Q2FyZHMoKV0pO1xyXG4gICAgfTtcclxuICBcclxuICAgIF9oYW5kbGVSZXNwb25zZShyZXMpe1xyXG4gICAgICAgIGlmKCFyZXMub2spe1xyXG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYNCe0YjQuNCx0LrQsDoke3Jlcy5zdGF0dXN9YCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgfTtcclxuXHJcbiAgICBzZXRVc2VyQXZhdGFyKGRhdGEpe1xyXG4gICAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L3VzZXJzL21lL2F2YXRhcmAsIHtcclxuICAgICAgICAgICAgbWV0aG9kOiAnUEFUQ0gnLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICAgICAgICBhdmF0YXI6IGRhdGEuYXZhdGFyXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSkudGhlbih0aGlzLl9oYW5kbGVSZXNwb25zZSlcclxuICAgIH07XHJcblxyXG4gICAgZGVsZXRlTGlrZShkYXRhKXtcclxuICAgICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS9jYXJkcy9saWtlcy8ke2RhdGEuX2lkfWAsIHtcclxuICAgICAgICAgICAgbWV0aG9kOiAnREVMRVRFJyxcclxuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgICB9KS50aGVuKHRoaXMuX2hhbmRsZVJlc3BvbnNlKVxyXG4gICAgfTtcclxuXHJcbiAgICBhZGRMaWtlKGRhdGEpe1xyXG4gICAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L2NhcmRzL2xpa2VzLyR7ZGF0YS5faWR9YCwge1xyXG4gICAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICAgIH0pLnRoZW4odGhpcy5faGFuZGxlUmVzcG9uc2UpXHJcbiAgICB9O1xyXG5cclxuICAgIGRlbGV0ZUNhcmQoZGF0YSl7XHJcbiAgICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH0vY2FyZHMvJHtkYXRhLl9pZH1gLCB7XHJcbiAgICAgICAgICAgIG1ldGhvZDogJ0RFTEVURScsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgICAgfSkudGhlbih0aGlzLl9oYW5kbGVSZXNwb25zZSlcclxuICAgIH07XHJcblxyXG4gICAgcG9zdENhcmQoZGF0YSl7XHJcbiAgICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH0vY2FyZHNgLCB7XHJcbiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiBkYXRhLm5hbWUsXHJcbiAgICAgICAgICAgICAgICBsaW5rOiBkYXRhLmxpbmssXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSkudGhlbih0aGlzLl9oYW5kbGVSZXNwb25zZSlcclxuICAgIH07XHJcblxyXG4gICAgc2V0VXNlckluZm8oZGF0YSl7XHJcbiAgICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH0vdXNlcnMvbWVgLCB7XHJcbiAgICAgICAgICAgIG1ldGhvZDogJ1BBVENIJyxcclxuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgICAgICAgICAgbmFtZTogZGF0YS5uYW1lLFxyXG4gICAgICAgICAgICAgICAgYWJvdXQ6IGRhdGEuYWJvdXQsXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSkudGhlbih0aGlzLl9oYW5kbGVSZXNwb25zZSlcclxuICAgIH07XHJcblxyXG4gICAgZ2V0Q2FyZHMoKXtcclxuICAgICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS9jYXJkc2AsIHtcclxuICAgICAgICAgICAgbWV0aG9kOiAnR0VUJyxcclxuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgICAgIH0pLnRoZW4odGhpcy5faGFuZGxlUmVzcG9uc2UpXHJcbiAgICB9O1xyXG5cclxuICAgIGdldFVzZXJJbmZvKCl7XHJcbiAgICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH0vdXNlcnMvbWVgLCB7XHJcbiAgICAgICAgICBtZXRob2Q6ICdHRVQnLFxyXG4gICAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgICB9KS50aGVuKHRoaXMuX2hhbmRsZVJlc3BvbnNlKVxyXG4gICAgfTtcclxufTsiLCJleHBvcnQgY29uc3QgY2FyZFNlbGVjdG9yID0gJyNlbGVtZW50JztcclxuZXhwb3J0IGNvbnN0IHByb2ZpbGVFZGl0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2VkaXQnKTtcclxuZXhwb3J0IGNvbnN0IHByb2ZpbGVCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fYnV0dG9uJyk7XHJcbmV4cG9ydCBjb25zdCBhdmF0YXJCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9faW1nLWF2YXRhcicpO1xyXG5leHBvcnQgY29uc3QgcG9wdXBQcm9maWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwLXByb2ZpbGUnKTtcclxuZXhwb3J0IGNvbnN0IGVsZW1lbnRzQm94ID0gJy5lbGVtZW50c19fYm94JztcclxuZXhwb3J0IGNvbnN0IG5hbWVTZWxlY3RvciA9ICcucHJvZmlsZV9fbmFtZSc7IFxyXG5leHBvcnQgY29uc3QgaW5mb1NlbGVjdG9yID0gJy5wcm9maWxlX19kZXNjcmlwdGlvbic7XHJcbmV4cG9ydCBjb25zdCBhdmF0YXJTZWxlY3RvciA9ICcucHJvZmlsZV9fYXZhdGFyJztcclxuZXhwb3J0IGNvbnN0IHBvcHVwSW1hZ2VTZWxlY3RvciA9Jy5wb3B1cC1pbWFnZSc7XHJcbmV4cG9ydCBjb25zdCBwb3B1cEFkZFNlbGVjdG9yID0gJy5wb3B1cC1uZXdjYXJkJztcclxuZXhwb3J0IGNvbnN0IHBvcHVwRGVsZXRlU2VsZWN0b3IgPSAnLnBvcHVwLWRlbGV0ZSc7XHJcbmV4cG9ydCBjb25zdCBwb3B1cFByb2ZpbGVTZWxlY3RvciA9ICcucG9wdXAtcHJvZmlsZSc7XHJcbmV4cG9ydCBjb25zdCBwb3B1cEF2YXRhclNlbGVjdG9yID0gJy5wb3B1cC1hdmF0YXInO1xyXG5leHBvcnQgY29uc3QgZm9ybUxpc3QgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wb3B1cF9fZm9ybScpKTtcclxuZXhwb3J0IGNvbnN0IHBvcHVwSXRlbU5hbWUgPSBwb3B1cFByb2ZpbGUucXVlcnlTZWxlY3RvcignI25hbWUtaW5wdXQnKTtcclxuZXhwb3J0IGNvbnN0IHBvcHVwSXRlbURlc2NyaXB0aW9uID0gcG9wdXBQcm9maWxlLnF1ZXJ5U2VsZWN0b3IoJyNkZXNjcmlwdGlvbi1pbnB1dCcpO1xyXG5leHBvcnQgY29uc3QgY29uZmlnID0ge1xyXG4gICAgZm9ybVNlbGVjdG9yOiAnLnBvcHVwX19mb3JtJyxcclxuICAgIGlucHV0U2VsZWN0b3I6ICcucG9wdXBfX2l0ZW0nLFxyXG4gICAgc3VibWl0QnV0dG9uU2VsZWN0b3I6ICcucG9wdXBfX2J1dHRvbicsXHJcbiAgICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiAncG9wdXBfX2J1dHRvbl9kaXNhYmxlZCcsXHJcbiAgICBpbnB1dEVycm9yQ2xhc3M6ICdwb3B1cF9faXRlbV9lcnJvci1saW5lJyxcclxuICAgIGVycm9yQ2xhc3M6ICdwb3B1cF9fZXJyb3JfdmlzaWJsZSdcclxufTsgIiwiaW1wb3J0IFwiLi9pbmRleC5jc3NcIjtcclxuaW1wb3J0IHtTZWN0aW9ufSBmcm9tIFwiLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzXCI7XHJcbmltcG9ydCB7Q2FyZH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvQ2FyZC5qc1wiO1xyXG5pbXBvcnQge0Zvcm1WYWxpZGF0b3J9IGZyb20gXCIuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanNcIjtcclxuaW1wb3J0IHtQb3B1cFdpdGhJbWFnZX0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanNcIjtcclxuaW1wb3J0IHtQb3B1cFdpdGhGb3JtfSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzXCI7XHJcbmltcG9ydCB7UG9wdXBXaXRoRGVsZXRlRm9ybX0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRGVsZXRlRm9ybS5qc1wiO1xyXG5pbXBvcnQge1VzZXJJbmZvfSBmcm9tIFwiLi4vY29tcG9uZW50cy9Vc2VySW5mby5qc1wiO1xyXG5pbXBvcnQge0FwaX0gZnJvbSBcIi4uL2NvbXBvbmVudHMvQXBpLmpzXCI7XHJcbmltcG9ydCB7XHJcbiAgICBjYXJkU2VsZWN0b3IsXHJcbiAgICBwcm9maWxlRWRpdCxcclxuICAgIHByb2ZpbGVCdXR0b24sXHJcbiAgICBhdmF0YXJCdXR0b24sXHJcbiAgICBlbGVtZW50c0JveCxcclxuICAgIG5hbWVTZWxlY3RvcixcclxuICAgIGluZm9TZWxlY3RvcixcclxuICAgIGF2YXRhclNlbGVjdG9yLFxyXG4gICAgcG9wdXBJbWFnZVNlbGVjdG9yLFxyXG4gICAgcG9wdXBBZGRTZWxlY3RvcixcclxuICAgIHBvcHVwRGVsZXRlU2VsZWN0b3IsXHJcbiAgICBwb3B1cFByb2ZpbGVTZWxlY3RvcixcclxuICAgIHBvcHVwQXZhdGFyU2VsZWN0b3IsXHJcbiAgICBmb3JtTGlzdCxcclxuICAgIHBvcHVwSXRlbU5hbWUsXHJcbiAgICBwb3B1cEl0ZW1EZXNjcmlwdGlvbixcclxuICAgIGNvbmZpZ1xyXG59IGZyb20gXCIuLi91dGlscy9jb25zdGFudHMuanNcIjtcclxuXHJcbmxldCBvd25lcklkID0gbnVsbDtcclxubGV0IHRlbXBDYXJkID0gbnVsbDtcclxuXHJcbmNvbnN0IHVzZXJJbmZvID0gbmV3IFVzZXJJbmZvKHtuYW1lU2VsZWN0b3IsIGluZm9TZWxlY3RvciwgYXZhdGFyU2VsZWN0b3J9KTtcclxuXHJcbmNvbnN0IGNhcmRzTGlzdCA9IG5ldyBTZWN0aW9uKHtcclxuICAgIHJlbmRlcmVyOiAoZGF0YSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGNhcmQgPSBjcmVhdGVOZXdDYXJkKGRhdGEpO1xyXG4gICAgICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gY2FyZC5nZW5lcmF0ZUNhcmQoKTtcclxuICAgICAgICBjYXJkLnNldExpa2VDb3VudChkYXRhKTtcclxuICAgICAgICBjYXJkc0xpc3QuYWRkSXRlbShjYXJkRWxlbWVudCwgJ2FwcGVuZCcpO1xyXG4gICAgfVxyXG59LGVsZW1lbnRzQm94XHJcbik7XHJcblxyXG5jb25zdCBwaG90b1BvcHVwID0gbmV3IFBvcHVwV2l0aEltYWdlKHBvcHVwSW1hZ2VTZWxlY3Rvcik7XHJcblxyXG5jb25zdCBhcGkgPSBuZXcgQXBpKHtcclxuICAgIGJhc2VVcmw6ICdodHRwczovL21lc3RvLm5vbW9yZXBhcnRpZXMuY28vdjEvY29ob3J0LTE3JyxcclxuICAgIGhlYWRlcnM6IHtcclxuICAgICAgYXV0aG9yaXphdGlvbjogJ2Q1NTg2MDdlLTQ4ZjgtNGE5MC1iN2U1LTc1ZjFmZTc1M2Y1YicsXHJcbiAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcclxuICAgIH1cclxufSk7IFxyXG5cclxuYXBpLmdldEluaXRpYWxEYXRhKClcclxuICAgIC50aGVuKChkYXRhKSA9PiB7XHJcbiAgICAgICAgY29uc3QgW3VzZXJEYXRhLCBjYXJkRGF0YV0gPSBkYXRhO1xyXG4gICAgICAgIG93bmVySWQgPSB1c2VyRGF0YS5faWQ7XHJcbiAgICAgICAgdXNlckluZm8uc2V0VXNlckluZm8odXNlckRhdGEpO1xyXG4gICAgICAgIGNhcmRzTGlzdC5yZW5kZXJlckl0ZW1zKGNhcmREYXRhKTtcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICB9KVxyXG5cclxuY29uc3QgcG9wdXBXaXRoRGVsZXRlRm9ybSA9IG5ldyBQb3B1cFdpdGhEZWxldGVGb3JtKHBvcHVwRGVsZXRlU2VsZWN0b3IsIHtcclxuICAgIHN1Ym1pdDooZGF0YSkgPT4ge1xyXG4gICAgICAgIGFwaS5kZWxldGVDYXJkKGRhdGEpXHJcbiAgICAgICAgICAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgdGVtcENhcmQuZGVsZXRlQ2FyZCgpO1xyXG4gICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICB0ZW1wQ2FyZCA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgcG9wdXBXaXRoRGVsZXRlRm9ybS5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgICAgICAgICAgIH0pXHJcbiAgICB9XHJcbn0pO1xyXG5cclxuY29uc3QgY3JlYXRlTmV3Q2FyZCA9IChkYXRhKSA9PiB7XHJcbiAgICBjb25zdCBjYXJkID0gbmV3IENhcmQoZGF0YSwgY2FyZFNlbGVjdG9yLCBvd25lcklkLCB7XHJcbiAgICAgICAgaGFuZGxlQ2FyZENsaWNrOihkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgIHBob3RvUG9wdXAub3BlbihkYXRhKTtcclxuICAgICAgICAgICAgcGhvdG9Qb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgaGFuZGxlQ2FyZERlbGV0ZTooKSA9PiB7XHJcbiAgICAgICAgICAgIHRlbXBDYXJkID0gY2FyZDtcclxuICAgICAgICAgICAgcG9wdXBXaXRoRGVsZXRlRm9ybS5vcGVuKGRhdGEpO1xyXG4gICAgICAgICAgICBwb3B1cFdpdGhEZWxldGVGb3JtLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBhZGRMaWtlOihkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgIGFwaS5hZGRMaWtlKGRhdGEpXHJcbiAgICAgICAgICAgICAgICAudGhlbigoZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhcmQuc2V0TGlrZUNvdW50KGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSxcclxuICAgICAgICBkZWxldGVMaWtlOihkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgIGFwaS5kZWxldGVMaWtlKGRhdGEpXHJcbiAgICAgICAgICAgICAgICAudGhlbigoZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhcmQuc2V0TGlrZUNvdW50KGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gY2FyZDtcclxufTtcclxuXHJcbmNvbnN0IHBvcHVwV2l0aEFkZEZvcm0gPSBuZXcgUG9wdXBXaXRoRm9ybShwb3B1cEFkZFNlbGVjdG9yLCB7ICAgICAgXHJcbiAgICBzdWJtaXQ6IChkYXRhKSA9PiB7XHJcbiAgICAgICAgcG9wdXBXaXRoQWRkRm9ybS5yZW5kZXJMb2FkaW5nKHRydWUpO1xyXG4gICAgICAgIGFwaS5wb3N0Q2FyZChkYXRhKVxyXG4gICAgICAgICAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjYXJkID0gY3JlYXRlTmV3Q2FyZChyZXMpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY2FyZEVsZW1lbnQgPSBjYXJkLmdlbmVyYXRlQ2FyZCgpO1xyXG4gICAgICAgICAgICAgICAgY2FyZHNMaXN0LmFkZEl0ZW0oY2FyZEVsZW1lbnQsICdwcmVwZW5kJyk7XHJcbiAgICAgICAgICAgICAgICBwb3B1cFdpdGhBZGRGb3JtLmNsb3NlKCk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuZmluYWxseSgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBwb3B1cFdpdGhBZGRGb3JtLnJlbmRlckxvYWRpbmcoZmFsc2UpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgfVxyXG59KTtcclxuXHJcbmNvbnN0IHBvcHVwV2l0aFByb2ZpbGVGb3JtID0gbmV3IFBvcHVwV2l0aEZvcm0ocG9wdXBQcm9maWxlU2VsZWN0b3IsIHsgICAgICBcclxuICAgIHN1Ym1pdDogKGRhdGEpID0+IHtcclxuICAgICAgICBwb3B1cFdpdGhQcm9maWxlRm9ybS5yZW5kZXJMb2FkaW5nKHRydWUpO1xyXG4gICAgICAgIGFwaS5zZXRVc2VySW5mbyhkYXRhKVxyXG4gICAgICAgICAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB1c2VySW5mby5zZXRVc2VySW5mbyhyZXMpO1xyXG4gICAgICAgICAgICAgICAgcG9wdXBXaXRoUHJvZmlsZUZvcm0uY2xvc2UoKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5maW5hbGx5KCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHBvcHVwV2l0aFByb2ZpbGVGb3JtLnJlbmRlckxvYWRpbmcoZmFsc2UpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgfSAgXHJcbn0pO1xyXG5cclxuY29uc3QgcG9wdXBXaXRoQXZhdGFyRm9ybSA9IG5ldyBQb3B1cFdpdGhGb3JtKHBvcHVwQXZhdGFyU2VsZWN0b3IsIHtcclxuICAgIHN1Ym1pdDogKGRhdGEpID0+IHtcclxuICAgICAgICBwb3B1cFdpdGhBdmF0YXJGb3JtLnJlbmRlckxvYWRpbmcodHJ1ZSk7XHJcbiAgICAgICAgYXBpLnNldFVzZXJBdmF0YXIoZGF0YSlcclxuICAgICAgICAgICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICAgICAgICAgICAgdXNlckluZm8uc2V0VXNlckF2YXRhcihyZXMpO1xyXG4gICAgICAgICAgICAgICAgcG9wdXBXaXRoQXZhdGFyRm9ybS5jbG9zZSgpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmZpbmFsbHkoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcG9wdXBXaXRoQXZhdGFyRm9ybS5yZW5kZXJMb2FkaW5nKGZhbHNlKTtcclxuICAgICAgICAgICAgfSlcclxuICAgIH1cclxufSk7XHJcblxyXG5wcm9maWxlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgcG9wdXBXaXRoQWRkRm9ybS5vcGVuKCk7XHJcbiAgICBwb3B1cFdpdGhBZGRGb3JtLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbn0pO1xyXG5cclxucHJvZmlsZUVkaXQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICBjb25zdCB1c2VyRGF0YSA9IHVzZXJJbmZvLmdldFVzZXJJbmZvKCk7XHJcbiAgICBwb3B1cEl0ZW1OYW1lLnZhbHVlID0gdXNlckRhdGEubmFtZTtcclxuICAgIHBvcHVwSXRlbURlc2NyaXB0aW9uLnZhbHVlID0gdXNlckRhdGEuYWJvdXQ7XHJcbiAgICBwb3B1cFdpdGhQcm9maWxlRm9ybS5vcGVuKCk7XHJcbiAgICBwb3B1cFdpdGhQcm9maWxlRm9ybS5zZXRFdmVudExpc3RlbmVycygpO1xyXG59KTtcclxuXHJcbmF2YXRhckJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgIHBvcHVwV2l0aEF2YXRhckZvcm0ub3BlbigpO1xyXG4gICAgcG9wdXBXaXRoQXZhdGFyRm9ybS5zZXRFdmVudExpc3RlbmVycygpO1xyXG59KTtcclxuXHJcbmNvbnN0IHZhbGlkYXRvciA9IChmb3JtKSA9PiB7XHJcbiAgICBjb25zdCBuZXdGb3JtID0gbmV3IEZvcm1WYWxpZGF0b3IoY29uZmlnLCBmb3JtKTtcclxuICAgIG5ld0Zvcm0uZW5hYmxlVmFsaWRhdGlvbigpO1xyXG59O1xyXG5cclxuZm9ybUxpc3QuZm9yRWFjaChmb3JtID0+IHtcclxuICAgIHZhbGlkYXRvcihmb3JtKTtcclxufSk7Il0sInNvdXJjZVJvb3QiOiIifQ==